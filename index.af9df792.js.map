{"mappings":"oeAEA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAkBC,SAASC,cAAc,eAC/C,IAAIC,EAAS,GACb,MAAMC,EAAcH,SAASC,cAAc,yBACrCG,EAAeJ,SAASC,cAAc,mBACtCI,EAAkBL,SAASC,cAAc,wBAQ/CK,eAAeC,IACbC,YAAW,IAAOH,EAAgBI,QAAS,GAAO,I,CARpDJ,EAAgBI,QAAS,EACzBN,EAAYO,iBAAiB,SAC7B,WACEC,QAAQC,IAAI,gBAAiBT,EAAYU,OACzCX,EAASC,EAAYU,K,IAOvBT,EAAaM,iBAAiB,UAC9BJ,eAAwBQ,GACtBA,EAAMC,iBACN,MAAMC,EAAQ,IAAI,EAAAnB,EAAAoB,OAAM,CACtBC,YAAahB,IAGf,GAAIA,EAAQ,CACVG,EAAgBI,QAAS,EACVO,EAAMG,oBAEdC,MAAKP,IACV,MAAMQ,EAAeR,EAAMS,QAC3BX,QAAQC,IAAI,iBAAkBS,EAAaE,QACvCF,EAAaE,OAAS,GACxBZ,QAAQC,IAAI,UAAWS,GAEvBtB,EAAgByB,WAAY,EAAAC,EAAAC,SAAuBL,KAEnDhB,EAAgBI,QAAS,EACzBF,IACAJ,EAAYU,MAAQ,G,SAIxBR,EAAgBI,QAAS,EACzBF,G","sources":["src/partials_js/search.js"],"sourcesContent":["// autor: Ruslan branch Search_FT-10\n\nimport { Movie } from './api';\nimport createMarkupCardsFilms from './createMarkupCardsFilms';\n\nconst markSearchFilms = document.querySelector('.list-films');\nlet search = '';\nconst searchValue = document.querySelector('.js-search-form-input');\nconst searchButton = document.querySelector('.js-search-form');\nconst searchBadResult = document.querySelector('.js-search-badResult');\nsearchBadResult.hidden = true;\nsearchValue.addEventListener('input', onInput);\nfunction onInput() {\n  console.log('searchValue =', searchValue.value);\n  search = searchValue.value;\n}\n\nasync function hideErrorMessage() {\n  setTimeout(() => (searchBadResult.hidden = true), 2000);\n}\n\nsearchButton.addEventListener('submit', onSubmit);\nasync function onSubmit(event) {\n  event.preventDefault();\n  const movie = new Movie({\n    searchValue: search,\n  });\n\n  if (search) {\n    searchBadResult.hidden = true;\n    const result = movie.fetchSearchMovies();\n\n    result.then(value => {\n      const searchAnswer = value.results;\n      console.log('value.length =', searchAnswer.length);\n      if (searchAnswer.length > 0) {\n        console.log('value =', searchAnswer);\n        // markup();\n        markSearchFilms.innerHTML = createMarkupCardsFilms(searchAnswer);\n      } else {\n        searchBadResult.hidden = false;\n        hideErrorMessage();\n        searchValue.value = '';\n      }\n    });\n  } else {\n    searchBadResult.hidden = false;\n    hideErrorMessage();\n  }\n}\n"],"names":["$ll9qB","parcelRequire","$368590897c3fddc0$var$markSearchFilms","document","querySelector","$368590897c3fddc0$var$search","$368590897c3fddc0$var$searchValue","$368590897c3fddc0$var$searchButton","$368590897c3fddc0$var$searchBadResult","async","$368590897c3fddc0$var$hideErrorMessage","setTimeout","hidden","addEventListener","console","log","value","event","preventDefault","movie","Movie","searchValue","fetchSearchMovies","then","searchAnswer","results","length","innerHTML","$cBXj4","default"],"version":3,"file":"index.af9df792.js.map"}