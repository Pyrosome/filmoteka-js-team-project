{"mappings":"oeAEA,IAAAA,EAAAC,EAAA,SAGA,IAAIC,EAAS,GACb,MAAMC,EAAcC,SAASC,cAAc,sBACrCC,EAAeF,SAASC,cAAc,gBACtCE,EAAkBH,SAASC,cAAc,qBAQ/CG,eAAeC,IACbC,YAAW,IAAOH,EAAgBI,QAAS,GAAO,I,CARpDJ,EAAgBI,QAAS,EACzBR,EAAYS,iBAAiB,SAC7B,WACEC,QAAQC,IAAI,gBAAiBX,EAAYY,OACzCb,EAASC,EAAYY,K,IAOvBT,EAAaM,iBAAiB,UAC9BJ,eAAwBQ,GACtBA,EAAMC,iBACN,MAAMC,EAAQ,IAAI,EAAAlB,EAAAmB,OAAM,CACtBC,YAAalB,IAGf,GAAIA,EAAQ,CACVK,EAAgBI,QAAS,EACVO,EAAMG,oBAEdC,MAAKP,IACV,MAAMQ,EAAeR,EAAMS,QAC3BX,QAAQC,IAAI,iBAAkBS,EAAaE,QACvCF,EAAaE,OAAS,EACxBZ,QAAQC,IAAI,UAAWS,IAGvBhB,EAAgBI,QAAS,EACzBF,IACAN,EAAYY,MAAQ,G,SAIxBR,EAAgBI,QAAS,EACzBF,G","sources":["src/partials_js/search.js"],"sourcesContent":["// autor: Ruslan branch Search_FT-10\n\nimport { Movie } from './api';\nimport { markup } from './markup_service';\n\nlet search = '';\nconst searchValue = document.querySelector('.search-form-input');\nconst searchButton = document.querySelector('.search-form');\nconst searchBadResult = document.querySelector('.search-badResult');\nsearchBadResult.hidden = true;\nsearchValue.addEventListener('input', onInput);\nfunction onInput() {\n  console.log('searchValue =', searchValue.value);\n  search = searchValue.value;\n}\n\nasync function hideErrorMessage() {\n  setTimeout(() => (searchBadResult.hidden = true), 2000);\n}\n\nsearchButton.addEventListener('submit', onSubmit);\nasync function onSubmit(event) {\n  event.preventDefault();\n  const movie = new Movie({\n    searchValue: search,\n  });\n\n  if (search) {\n    searchBadResult.hidden = true;\n    const result = movie.fetchSearchMovies();\n\n    result.then(value => {\n      const searchAnswer = value.results;\n      console.log('value.length =', searchAnswer.length);\n      if (searchAnswer.length > 0) {\n        console.log('value =', searchAnswer);\n        // markup();\n      } else {\n        searchBadResult.hidden = false;\n        hideErrorMessage();\n        searchValue.value = '';\n      }\n    });\n  } else {\n    searchBadResult.hidden = false;\n    hideErrorMessage();\n  }\n}\n"],"names":["$ll9qB","parcelRequire","$368590897c3fddc0$var$search","$368590897c3fddc0$var$searchValue","document","querySelector","$368590897c3fddc0$var$searchButton","$368590897c3fddc0$var$searchBadResult","async","$368590897c3fddc0$var$hideErrorMessage","setTimeout","hidden","addEventListener","console","log","value","event","preventDefault","movie","Movie","searchValue","fetchSearchMovies","then","searchAnswer","results","length"],"version":3,"file":"index.0d398afa.js.map"}