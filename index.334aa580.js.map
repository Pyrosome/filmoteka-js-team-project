{"mappings":"iiBAEA,IAAAA,EAAAC,EAAA,S,0BAGIC,EAAS,GACPC,EAAcC,SAASC,cAAc,sBACrCC,EAAeF,SAASC,cAAc,gBACtCE,EAAkBH,SAASC,cAAc,qB,SAQhCG,I,OAAAC,EAAgBC,MAAAC,KAAAC,U,UAAhBH,I,OAAAA,EAAfI,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,I,kEACEC,YAAW,W,OAAOV,EAAgBW,QAAS,C,GAAO,K,4CADrBR,MAAAC,KAAAC,U,UAKhBO,I,OAAAA,EAAfN,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,EAAwBI,G,IAEhBC,E,kEADND,EAAME,iBACAD,EAAQ,IAAI,EAAAE,EAAAC,OAAM,CACtBC,YAAavB,IAGXA,GACFK,EAAgBW,QAAS,EACVG,EAAMK,oBAEdC,MAAK,SAAAC,GACV,IAAMC,EAAeD,EAAME,QAC3BC,QAAQC,IAAI,iBAAkBH,EAAaI,QACvCJ,EAAaI,OAAS,EACxBF,QAAQC,IAAI,UAAWH,IAGvBtB,EAAgBW,QAAS,EACzBV,IACAL,EAAYyB,MAAQ,G,MAIxBrB,EAAgBW,QAAS,EACzBV,K,4CAxBmBE,MAAAC,KAAAC,U,CAZvBL,EAAgBW,QAAS,EACzBf,EAAY+B,iBAAiB,SAC7B,WACEH,QAAQC,IAAI,gBAAiB7B,EAAYyB,OACzC1B,EAASC,EAAYyB,K,IAOvBtB,EAAa4B,iBAAiB,U,SACNd,G,OAATD,EAAQT,MAAAC,KAAAC,U","sources":["src/partials_js/search.js"],"sourcesContent":["// autor: Ruslan branch Search_FT-10\n\nimport { Movie } from './api';\nimport { markup } from './markup_service';\n\nlet search = '';\nconst searchValue = document.querySelector('.search-form-input');\nconst searchButton = document.querySelector('.search-form');\nconst searchBadResult = document.querySelector('.search-badResult');\nsearchBadResult.hidden = true;\nsearchValue.addEventListener('input', onInput);\nfunction onInput() {\n  console.log('searchValue =', searchValue.value);\n  search = searchValue.value;\n}\n\nasync function hideErrorMessage() {\n  setTimeout(() => (searchBadResult.hidden = true), 2000);\n}\n\nsearchButton.addEventListener('submit', onSubmit);\nasync function onSubmit(event) {\n  event.preventDefault();\n  const movie = new Movie({\n    searchValue: search,\n  });\n\n  if (search) {\n    searchBadResult.hidden = true;\n    const result = movie.fetchSearchMovies();\n\n    result.then(value => {\n      const searchAnswer = value.results;\n      console.log('value.length =', searchAnswer.length);\n      if (searchAnswer.length > 0) {\n        console.log('value =', searchAnswer);\n        // markup();\n      } else {\n        searchBadResult.hidden = false;\n        hideErrorMessage();\n        searchValue.value = '';\n      }\n    });\n  } else {\n    searchBadResult.hidden = false;\n    hideErrorMessage();\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$302c553ce3ce8ba2$var$search","$302c553ce3ce8ba2$var$searchValue","document","querySelector","$302c553ce3ce8ba2$var$searchButton","$302c553ce3ce8ba2$var$searchBadResult","$302c553ce3ce8ba2$var$hideErrorMessage","$302c553ce3ce8ba2$var$_hideErrorMessage","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","setTimeout","hidden","$302c553ce3ce8ba2$var$_onSubmit","event","movie","preventDefault","$fpMk3","Movie","searchValue","fetchSearchMovies","then","value","searchAnswer","results","console","log","length","addEventListener"],"version":3,"file":"index.334aa580.js.map"}